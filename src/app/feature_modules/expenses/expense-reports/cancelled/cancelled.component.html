<div class="position-relative d-none d-md-block">
  <button mat-flat-button color="primary" class="position-absolute end-0" 
    (click)="open(addModal); isEdit = false; step=1">
    {{'expenses.add_expense' | translate}}
  </button>
</div>

<div class="d-block d-md-none mt-2">
  <button mat-flat-button color="primary" class="end-0" 
    (click)="open(addModal); isEdit = false; step=1">
    {{'expenses.add_expense' | translate}}
  </button>
</div>

<hrm-table 
  [data]="dataSource.data" 
  [isServerSide]="true" 
  [columns]="columns" 
  [showExport]="'csv'" 
  [showSearch]="true" 
  [totalItems]="totalRecords" 
  (actionClicked)="handleAction($event, viewModal)" 
  (pageChanged)="onPageChange($event)" 
  (sortChanged)="onSortChange($event)" 
  (searchChanged)="onSearchChange($event)"
  [pageTitle]="'Expense Report'"
  [mdColumns]="4">
</hrm-table>

<!-- View Modal -->
<ng-template #viewModal let-modal>
  <app-view-report (close)="onClose($event)" [report]="selectedReport"></app-view-report>
</ng-template>

<ng-template #addModal let-modal>
  <add-expense (changeStep)="onChangeStep($event)" [changeMode]="changeMode" *ngIf="step == 1" (close)="onClose($event)"
    (updateExpenseReportTable)="refreshExpenseReportTable()"></add-expense>
  <app-create-report *ngIf="step == 2" (changeStep)="onChangeStep($event)" [changeMode]="changeMode"
    (close)="onClose($event)" (updateExpenseReportTable)="refreshExpenseReportTable()"></app-create-report>
</ng-template>