<div class="d-flex align-items-center justify-content-between">
    <h1 mat-dialog-title *ngIf="data.status === 'Rejected'">{{'expenses.reject_msg' | translate}}</h1>
    <h1 mat-dialog-title *ngIf="data.status === 'Approved'">{{'expenses.approve_msg' | translate}}</h1>
    <h1 mat-dialog-title *ngIf="data.status === 'Cancelled'">{{'expenses.cancel_msg' | translate}}</h1>
    <button mat-icon-button mat-dialog-close="" class="me-4">
      <mat-icon>close</mat-icon>
    </button>
  </div>


<form [formGroup]="updateExpenseReport" (ngSubmit)="updateApprovedReport()">
    <div mat-dialog-content>
        <mat-form-field class="w-100 mt-1">
            <mat-label>{{'comment' | translate}}</mat-label>
            <textarea matInput formControlName="primaryApprovalReason" rows="3" maxlength="200" 
                (input)="onCommentChange()"></textarea>
            <mat-hint align="end">{{commentLength}} / 30</mat-hint>
            <mat-error *ngIf="updateExpenseReport.get('primaryApprovalReason').invalid && updateExpenseReport.get('primaryApprovalReason').touched">
                <span *ngIf="updateExpenseReport.get('primaryApprovalReason').hasError('maxlength')">
                    {{'expenses.category_label_Limit' | translate}}
                </span>
                <span *ngIf="updateExpenseReport.get('primaryApprovalReason')?.errors?.['spacesNotAllowed']">
                    {{ 'expenses.labelNoLeadingOrTrailingSpaces' | translate }}
                </span>
                <span *ngIf="updateExpenseReport.get('primaryApprovalReason')?.errors?.['invalidLabel']">
                    {{ 'expenses.label_invalid' | translate }}
                </span>
                <span *ngIf="updateExpenseReport.get('primaryApprovalReason').hasError('required')">
                    {{'expenses.advance_template_label_error' | translate}}
                </span>
            </mat-error>
        </mat-form-field>
    </div>

        <div mat-dialog-actions class="d-flex align-items-center justify-content-between">
            <button mat-flat-button type="button" mat-dialog-close>{{'expenses.no' | translate}}</button>
            <button mat-flat-button type="submit" color="primary">
                @switch(data.status){
                @case('Rejected'){
                    {{'expenses.reject' | translate}}
                }
                @case('Approved'){
                    {{'expenses.approve' | translate}}
                }
                @case('Cancelled'){
                    {{'expenses.cancel' | translate}}
                }
                }
            </button>
        </div>
</form>