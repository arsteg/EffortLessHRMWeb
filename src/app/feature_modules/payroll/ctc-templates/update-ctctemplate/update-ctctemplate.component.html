
@if(showAssignedTemplates) {
<form [formGroup]="ctcTemplateForm" class="row container mt-3 px-3">
  <div class="form-group col-md-6">
    <mat-form-field appearance="outline" class="w-100">
      <mat-label>Enter the Label for CTC Template</mat-label>
      <input matInput type="text" formControlName="name" placeholder="CTC Template...">
      <mat-error
       *ngIf="ctcTemplateForm.get('name').hasError('required') && (ctcTemplateForm.get('name').dirty || ctcTemplateForm.get('name').touched)">
        {{ 'payroll.flexi_benefits.form.error.name_required' | translate }}
      </mat-error>
      <mat-error *ngIf="ctcTemplateForm.get('name')?.errors?.['invalidLabel']">
        {{ 'payroll.fixed_deduction.form.error.label_no_special_characters' | translate }}
      </mat-error>
    </mat-form-field>
  </div>

  <div class="form-group col-md-6">
    <mat-form-field appearance="outline" class="w-100 mx-1">
      <mat-label>Fixed Allowances</mat-label>
      <mat-select multiple formControlName="ctcTemplateFixedAllowance"
        (selectionChange)="onDropdownChange($event, 'fixedAllowance')">
        <mat-option *ngFor="let fa of fixedAllowances" [value]="fa?._id">
          {{fa?.label}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>
  <div class="form-group mt-2 col-md-6">
    <mat-form-field appearance="outline" class="w-100 mx-1">
      <mat-label>Fixed Deductions</mat-label>
      <mat-select multiple formControlName="ctcTemplateFixedDeduction"
        (selectionChange)="onDropdownChange($event, 'fixedDeduction')">
        <mat-option *ngFor="let fa of fixedDeduction" [value]="fa._id">
          {{fa?.label}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="form-group mt-2 col-md-6">
    <mat-form-field appearance="outline" class="w-100 mx-1">
      <mat-label>Variable Allowance</mat-label>
      <mat-select multiple formControlName="ctcTemplateVariableAllowance"
        (selectionChange)="onDropdownChange($event, 'variableAllowance')">
        <mat-option *ngFor="let va of variableAllowance" [value]="va?._id">
          {{va?.label}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="form-group mt-2 col-md-6">
    <mat-form-field appearance="outline" class="w-100 mx-1">
      <mat-label>Variable Deductions</mat-label>
      <mat-select multiple formControlName="ctcTemplateVariableDeduction"
        (selectionChange)="onDropdownChange($event, 'variableDeduction')">
        <mat-option *ngFor="let vd of variableDeduction" [value]="vd?._id">
          {{vd?.label}}
        </mat-option>
      </mat-select>
    </mat-form-field>
  </div>

  <div class="d-flex border-top mt-2 py-2 justify-content-between">
    <button mat-flat-button type="button" (click)="goBack()">Back</button>
    <button mat-flat-button type="button" class="addBtn"
      (click)="showAssignedTemplates = false; getAssignedTemplates()">Proceed</button>
  </div>
</form>
}
@else {
<app-assigned-templates></app-assigned-templates>
}