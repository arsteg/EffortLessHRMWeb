<div>
  @if(loading()) {
    Loading...
  } @else {
    <table mat-table [dataSource]="dataSource()">
      <ng-container matColumnDef="date">
        <th mat-header-cell *matHeaderCellDef> Date </th>
        <td mat-cell *matCellDef="let element"> {{ element.date | date }} </td>
      </ng-container>

      <ng-container matColumnDef="amount">
        <th mat-header-cell *matHeaderCellDef> Amount </th>
        <td mat-cell *matCellDef="let element"> {{ element.amount | currency:"INR" }} </td>
      </ng-container>

      <ng-container matColumnDef="method">
        <th mat-header-cell *matHeaderCellDef> Method </th>
        <td mat-cell *matCellDef="let element"> {{ element.payment_info?.method }} </td>
      </ng-container>

      <ng-container matColumnDef="invoice_id">
        <th mat-header-cell *matHeaderCellDef> Invoice ID </th>
        <td mat-cell *matCellDef="let element"> {{ element.invoice_id }} </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  }
</div>
