
<div class="tabs">
  <button (click)="selectTab(1)" [class.active]="selectedTab === 1">Assets</button>
  <button (click)="selectTab(2)" [class.active]="selectedTab === 2">Asset Status</button>
  <button (click)="selectTab(3)" [class.active]="selectedTab === 3">Vendor</button>
  <button (click)="selectTab(4)" [class.active]="selectedTab === 4">Asset Type</button>
</div>

<div *ngIf="selectedTab === 1" class="tab-content">
  <div class="assetContainer col-8" style="background-color: white;">
    <h2 style="color: blue;">Asset List</h2>

    <table class="table">
      <thead>
        <tr>
          <th scope="col">
            <input type="text" placeholder="Search assets..." (input)="filterAssets($event)" class="form-control">
          </th>
          <th scope="col"></th>
          <th scope="col"></th>
        </tr>
        <tr>
          <th>Asset Name</th>
          <th>Asset Type</th>
          <th>Company</th>
          <th>Purchase Date</th>
          <th>Warranty Expiry</th>
          <th>Status</th>
          <th>Serial Number</th>
          <th>Cost</th>
          <th>Image</th>
          <th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let asset of filteredAssets | paginate: { itemsPerPage: 10, currentPage: p }">
          <td>{{ asset.assetName }}</td>
          <td>{{ asset.assetType }}</td>
          <td>{{ asset.company }}</td>
          <td>{{ asset.purchaseDate | date }}</td>
          <td>{{ asset.warrantyExpiry | date }}</td>
          <td>{{ asset.status }}</td>
          <td>{{ asset.serialNumber }}</td>
          <td>{{ asset.cost }}</td>
          <td><img [src]="asset.image" alt="{{ asset.assetName }}" width="50"></td>
          <td>
            <button (click)="editAsset(asset)" class="btn btn-primary btn-sm mr-2">Edit</button>
            <button (click)="deleteAsset(asset)" class="btn btn-danger btn-sm">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>

    <div class="d-flex justify-content-center">
      <pagination-controls (pageChange)="p = $event"></pagination-controls>
    </div>

    <h2 style="color: blue;">Add/Edit Asset</h2>

    <form [formGroup]="assetForm" (ngSubmit)="isEdit ? updateAsset() : addAsset()" class="mt-4 p-3 bg-light border rounded" style="background-color: gray;">

      <div class="row">
        <div class="col-md-3 form-group">
            <label for="assetName">Asset Name</label>
            <input type="text" id="assetName" class="form-control" formControlName="assetName" required>
        </div>

        <div class="col-md-3 form-group">
            <label for="assetType">Asset Type</label>
            <input type="text" id="assetType" class="form-control" formControlName="assetType" required>
        </div>

        <div class="col-md-3 form-group">
            <label for="company">Company</label>
            <input type="text" id="company" class="form-control" formControlName="company" required>
        </div>

        <div class="col-md-3 form-group">
            <label for="purchaseDate">Purchase Date</label>
            <input type="date" id="purchaseDate" class="form-control" formControlName="purchaseDate" required>
        </div>
    </div>

    <div class="row">
        <div class="col-md-3 form-group">
            <label for="warrantyExpiry">Warranty Expiry</label>
            <input type="date" id="warrantyExpiry" class="form-control" formControlName="warrantyExpiry" required>
        </div>

        <div class="col-md-3 form-group">
            <label for="status">Status</label>
            <input type="text" id="status" class="form-control" formControlName="status" required>
        </div>

        <div class="col-md-3 form-group">
            <label for="serialNumber">Serial Number</label>
            <input type="text" id="serialNumber" class="form-control" formControlName="serialNumber" required>
        </div>

        <div class="col-md-3 form-group">
            <label for="cost">Cost</label>
            <input type="number" id="cost" class="form-control" formControlName="cost" required>
        </div>
    </div>

    <div class="row">
        <div class="col-md-3 form-group">
            <label for="image">Image URL</label>
            <input type="text" id="image" class="form-control" formControlName="image">
        </div>
    </div>


      <div class="form-group row">
        <div class="col-sm-1">
          <button type="submit" class="btn btn-primary ml-5" [disabled]="assetForm.invalid">{{ isEdit ? 'Update' : 'Add' }}</button>
        </div>
        <div class="col-sm-1">
          <button type="button" *ngIf="isEdit" (click)="isEdit = false" class="btn btn-secondary">Cancel</button>
        </div>
      </div>
    </form>
  </div>

</div>
<div *ngIf="selectedTab === 2" class="tab-content">
  <app-asset-status></app-asset-status>
</div>
<div *ngIf="selectedTab === 3" class="tab-content">
  <app-vendor></app-vendor>
</div>
<div *ngIf="selectedTab === 4" class="tab-content">
  <app-asset-type></app-asset-type>
</div>
