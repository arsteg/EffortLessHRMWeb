<div class="main-content">
  <div class="container-fluid">
    <div class="col-2 ms-auto">
      <mat-form-field appearance="outline" class="" style="border-radius: 5px; height: 49px; margin: -20px 0 11px 0">
        <mat-label class="">Select Date</mat-label>
        <div class="w-100 d-flex" style="margin: -15px 0">
          <input matInput [matDatepicker]="picker1" [formControl]="date" (dateChange)="onDateChange($event)"/>
          <mat-datepicker-toggle matIconSuffix [for]="picker1"></mat-datepicker-toggle>
          <mat-datepicker #picker1></mat-datepicker>
        </div>
      </mat-form-field>
    </div>
    <div class="row my-3 justify-content-evenly">
      <div class="col-md-4  rounded dash-boxes p-3 bg-white">
        <div class="about__top ">
          <div class="about__title">
            <h1 class="content__title me-3">Today</h1>
            <h1 class="title-hidden time mb-0">{{ formatMillisecondsToTime(hoursWorked?.today)}}</h1>
          </div>
          <div class="top-text d-flex">
            <p class="text mb-0 me-2">
              <span style="color: rgb(255, 190, 91)" [style.color]="hoursWorked?.changeColor">{{ hoursWorked?.changeDisplay}}% </span><span class="text-dark"> Yesterday </span>
            </p>
            <div class="hours"><span class="p-2 py-3 text-light">{{formatMillisecondsToTime(hoursWorked?.previousDay)
                }}</span></div>

                <span class="ms-auto">
                  <img *ngIf="hoursWorked?.increased==true" src="../assets/images/graph-up-green.svg" height="80" width="100"
                    alt="Profile Picture">
                  <img *ngIf="hoursWorked?.increased==false" src="../assets/images/graph-down-red.svg" height="80" width="100"
                    alt="Profile Picture">
                </span>

          </div>

        </div>
      </div>

      <div class="col-md-4  rounded dash-boxes p-3 bg-white">
        <div class="about__top ">
          <div class="about__title">
            <h1 class="content__title me-3">This week</h1>
            <h1 class="title-hidden time mb-0">{{formatHoursAndMinutes(weeklySummary?.currentWeek) }}</h1>
          </div>
          <div class="top-text">
            <p class="text mb-0 me-2">
              <span style="color: rgb(255, 190, 91)" [style.color]="weeklySummary?.changeColor">{{weeklySummary?.changeDisplay}}% </span><span class="text-dark"> last week </span>
            </p>
            <div class="hours"><span class="p-2 py-3 text-light">{{formatHoursAndMinutes(weeklySummary?.previousWeek)
                }}</span></div>
                <div class="d-flex justify-content-between ms-auto">
                  <img *ngIf="weeklySummary?.increased==true" src="../assets/images/graph-up-green.svg" height="80" width="100"
                    alt="Profile Picture">
                  <img *ngIf="weeklySummary?.increased==false" src="../assets/images/graph-down-red.svg" height="80" width="100"
                    alt="Profile Picture">
                </div>
          </div>

        </div>
      </div>


      <div class="col-md-4  rounded dash-boxes p-3 bg-white">
        <div class="about__top">
          <div class="about__title">
            <h1 class="content__title me-3">This Month</h1>
            <h1 class="title-hidden time  mb-0">{{convertMinutesToHoursAndMinutes(monthlySummary?.currentMonth)}}</h1>
          </div>
          <div class="top-text d-flex">
            <p class="text mb-0 me-2">
              <span style="color: rgb(255, 190, 91)" [style.color]="monthlySummary?.changeColor">{{monthlySummary?.changeDisplay}}% </span><span class="text-dark"> a week before </span>
            </p>
            <div class="hours"><span class="p-2 py-3 text-light">{{convertMinutesToHoursAndMinutes(monthlySummary?.previousMonth)}}</span></div>
            <div class="d-flex justify-content-between  ms-auto">
              <img *ngIf="monthlySummary?.increased ==true" src="../assets/images/graph-up-green.svg" height="80"
                alt="Profile Picture">
              <img *ngIf="monthlySummary?.increased ==false" src="../assets/images/graph-down-red.svg" height="80"
                alt="Profile Picture">
            </div>
          </div>

        </div>
      </div>
    </div>

    <div class="row justify-content-evenly">
      <div class="col-md-4  rounded p-3 dash-report bg-white">
        <div class="d-flex justify-content-between">
          <h3>Project-wise Time Spent on Each Task</h3>
        </div>
        <table class="table">
          <tbody>
            <th>Project</th>
            <th>Task</th>
            <th>Time</th>
            <ng-container *ngFor="let projectTask of projectTasks">
              <tr *ngFor="let task of projectTask.tasks;let i = index ">
                <td>
                  {{i==0?projectTask?.projectName:''}}
                </td>
                <td>{{task?.taskName}}</td>
                <td>
                  <span class="dash-percent"> {{ task?.totalTime | milliSecondsToTime }} </span>
                </td>
              </tr>
            </ng-container>
          </tbody>
        </table>
      </div>
      <div class="col-md-4  rounded p-3 dash-report bg-white">
        <div class="d-flex justify-content-between">
          <h3>Productivity</h3>
        </div>
        <div>
          <ngx-charts-pie-chart  [results]="productivityData" [legend]="showLegend">
          </ngx-charts-pie-chart>
        </div>
      </div>

      <div class="col-md-4  rounded p-3 dash-report bg-white">

    <div class="card-body tasks__container"><div class="about__content"><div class="top__content"><h1 class="content__title">Tasks</h1><div class="top-img tooltip1"><span class="tooltip-text">Progress of Tasks with Workflow Stages</span></div></div><div class="main-cont"><div class="main__content"><div options="[object Object]" series="0,0,1,1" type="donut" width="350" height="auto" style="min-height: 174.7px;"><div id="apexchartsjlnssg7d" class="apexcharts-canvas apexchartsjlnssg7d apexcharts-theme-light" style="width: 350px; height: 174.7px;"><svg id="SvgjsSvg1142" width="350" height="174.7" xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:svgjs="http://svgjs.dev" class="apexcharts-svg" xmlns:data="ApexChartsNS" transform="translate(0, 0)" style="background: transparent;"><foreignObject x="0" y="0" width="350" height="174.7"><div class="apexcharts-legend apexcharts-align-center apx-legend-position-right" xmlns="http://www.w3.org/1999/xhtml" style="position: absolute; left: auto; top: 24px; right: 5px;"><div class="apexcharts-legend-series" rel="1" seriesname="Onxtime" data:collapsed="false" style="margin: 2px 5px;"><span class="apexcharts-legend-marker" rel="1" data:collapsed="false" style="background: rgb(15, 199, 255) !important; color: rgb(15, 199, 255); height: 13px; width: 13px; left: 0px; top: 0px; border-width: 0px; border-color: rgb(255, 255, 255); border-radius: 2px;"></span><span class="apexcharts-legend-text" rel="1" i="0" data:default-text="On%20time" data:collapsed="false" style="color: rgb(55, 61, 63); font-size: 12px; font-weight: 400; font-family: Helvetica, Arial, sans-serif;">On time</span></div><div class="apexcharts-legend-series" rel="2" seriesname="Approaching" data:collapsed="false" style="margin: 2px 5px;"><span class="apexcharts-legend-marker" rel="2" data:collapsed="false" style="background: rgb(255, 190, 91) !important; color: rgb(255, 190, 91); height: 13px; width: 13px; left: 0px; top: 0px; border-width: 0px; border-color: rgb(255, 255, 255); border-radius: 2px;"></span><span class="apexcharts-legend-text" rel="2" i="1" data:default-text="Approaching" data:collapsed="false" style="color: rgb(55, 61, 63); font-size: 12px; font-weight: 400; font-family: Helvetica, Arial, sans-serif;">Approaching</span></div><div class="apexcharts-legend-series" rel="3" seriesname="Missed" data:collapsed="false" style="margin: 2px 5px;"><span class="apexcharts-legend-marker" rel="3" data:collapsed="false" style="background: rgb(239, 88, 93) !important; color: rgb(239, 88, 93); height: 13px; width: 13px; left: 0px; top: 0px; border-width: 0px; border-color: rgb(255, 255, 255); border-radius: 2px;"></span><span class="apexcharts-legend-text" rel="3" i="2" data:default-text="Missed" data:collapsed="false" style="color: rgb(55, 61, 63); font-size: 12px; font-weight: 400; font-family: Helvetica, Arial, sans-serif;">Missed</span></div><div class="apexcharts-legend-series" rel="4" seriesname="Done" data:collapsed="false" style="margin: 2px 5px;"><span class="apexcharts-legend-marker" rel="4" data:collapsed="false" style="background: rgb(37, 189, 142) !important; color: rgb(37, 189, 142); height: 13px; width: 13px; left: 0px; top: 0px; border-width: 0px; border-color: rgb(255, 255, 255); border-radius: 2px;"></span><span class="apexcharts-legend-text" rel="4" i="3" data:default-text="Done" data:collapsed="false" style="color: rgb(55, 61, 63); font-size: 12px; font-weight: 400; font-family: Helvetica, Arial, sans-serif;">Done</span></div></div></foreignObject><g id="SvgjsG1144" class="apexcharts-inner apexcharts-graphical" transform="translate(22, 0)"><defs id="SvgjsDefs1143"><clipPath id="gridRectMaskjlnssg7d"><rect id="SvgjsRect1146" width="178" height="196" x="-3" y="-1" rx="0" ry="0" opacity="1" stroke-width="0" stroke="none" stroke-dasharray="0" fill="#fff"></rect></clipPath><clipPath id="forecastMaskjlnssg7d"></clipPath><clipPath id="nonForecastMaskjlnssg7d"></clipPath><clipPath id="gridRectMarkerMaskjlnssg7d"><rect id="SvgjsRect1147" width="176" height="198" x="-2" y="-2" rx="0" ry="0" opacity="1" stroke-width="0" stroke="none" stroke-dasharray="0" fill="#fff"></rect></clipPath></defs><g id="SvgjsG1148" class="apexcharts-pie"><g id="SvgjsG1149" transform="translate(0, 0) scale(1)"><circle id="SvgjsCircle1150" r="62.321951219512194" cx="86" cy="86" fill="transparent"></circle><g id="SvgjsG1151" class="apexcharts-slices"><g id="SvgjsG1152" class="apexcharts-series apexcharts-pie-series" seriesName="Onxtime" rel="1" data:realIndex="0"><path id="SvgjsPath1153" d="M 86 8.097560975609753 A 77.90243902439025 77.90243902439025 0 0 1 86 8.097560975609753 L 86 23.678048780487806 A 62.321951219512194 62.321951219512194 0 0 0 86 23.678048780487806 L 86 8.097560975609753 z" fill="rgba(15,199,255,1)" fill-opacity="1" stroke-opacity="1" stroke-linecap="round" stroke-width="2" stroke-dasharray="0" class="apexcharts-pie-area apexcharts-donut-slice-0" index="0" j="0" data:angle="0" data:startAngle="0" data:strokeWidth="2" data:value="0" data:pathOrig="M 86 8.097560975609753 A 77.90243902439025 77.90243902439025 0 0 1 86 8.097560975609753 L 86 23.678048780487806 A 62.321951219512194 62.321951219512194 0 0 0 86 23.678048780487806 L 86 8.097560975609753 z" stroke="#0fc7ff"></path></g><g id="SvgjsG1154" class="apexcharts-series apexcharts-pie-series" seriesName="Approaching" rel="2" data:realIndex="1"><path id="SvgjsPath1155" d="M 86 8.097560975609753 A 77.90243902439025 77.90243902439025 0 0 1 86 8.097560975609753 L 86 23.678048780487806 A 62.321951219512194 62.321951219512194 0 0 0 86 23.678048780487806 L 86 8.097560975609753 z" fill="rgba(255,190,91,1)" fill-opacity="1" stroke-opacity="1" stroke-linecap="round" stroke-width="2" stroke-dasharray="0" class="apexcharts-pie-area apexcharts-donut-slice-1" index="0" j="1" data:angle="0" data:startAngle="0" data:strokeWidth="2" data:value="0" data:pathOrig="M 86 8.097560975609753 A 77.90243902439025 77.90243902439025 0 0 1 86 8.097560975609753 L 86 23.678048780487806 A 62.321951219512194 62.321951219512194 0 0 0 86 23.678048780487806 L 86 8.097560975609753 z" stroke="#ffbe5b"></path></g><g id="SvgjsG1156" class="apexcharts-series apexcharts-pie-series" seriesName="Missed" rel="3" data:realIndex="2"><path id="SvgjsPath1157" d="M 86 8.097560975609753 A 77.90243902439025 77.90243902439025 0 0 1 86 163.90243902439025 L 86 148.3219512195122 A 62.321951219512194 62.321951219512194 0 0 0 86 23.678048780487806 L 86 8.097560975609753 z" fill="rgba(239,88,93,1)" fill-opacity="1" stroke-opacity="1" stroke-linecap="round" stroke-width="2" stroke-dasharray="0" class="apexcharts-pie-area apexcharts-donut-slice-2" index="0" j="2" data:angle="180" data:startAngle="0" data:strokeWidth="2" data:value="1" data:pathOrig="M 86 8.097560975609753 A 77.90243902439025 77.90243902439025 0 0 1 86 163.90243902439025 L 86 148.3219512195122 A 62.321951219512194 62.321951219512194 0 0 0 86 23.678048780487806 L 86 8.097560975609753 z" stroke="#ef585d"></path></g><g id="SvgjsG1158" class="apexcharts-series apexcharts-pie-series" seriesName="Done" rel="4" data:realIndex="3"><path id="SvgjsPath1159" d="M 86 163.90243902439025 A 77.90243902439025 77.90243902439025 0 0 1 85.98640345950592 8.097562162131737 L 85.98912276760474 23.6780497297054 A 62.321951219512194 62.321951219512194 0 0 0 86 148.3219512195122 L 86 163.90243902439025 z" fill="rgba(37,189,142,1)" fill-opacity="1" stroke-opacity="1" stroke-linecap="round" stroke-width="2" stroke-dasharray="0" class="apexcharts-pie-area apexcharts-donut-slice-3" index="0" j="3" data:angle="180" data:startAngle="180" data:strokeWidth="2" data:value="1" data:pathOrig="M 86 163.90243902439025 A 77.90243902439025 77.90243902439025 0 0 1 85.98640345950592 8.097562162131737 L 85.98912276760474 23.6780497297054 A 62.321951219512194 62.321951219512194 0 0 0 86 148.3219512195122 L 86 163.90243902439025 z" stroke="#25bd8e"></path></g></g></g><g id="SvgjsG1160" class="apexcharts-datalabels-group" transform="translate(0, 0) scale(1)"><text id="SvgjsText1161" font-family="Helvetica, Arial, sans-serif" x="86" y="76" text-anchor="middle" dominant-baseline="auto" font-size="15px" font-weight="300" fill="#373d3f" class="apexcharts-text apexcharts-datalabel-label" style="font-family: Helvetica, Arial, sans-serif;">All tasks</text><text id="SvgjsText1162" font-family="Helvetica, Arial, sans-serif" x="86" y="112" text-anchor="middle" dominant-baseline="auto" font-size="20px" font-weight="400" fill="#373d3f" class="apexcharts-text apexcharts-datalabel-value" style="font-family: Helvetica, Arial, sans-serif;">71</text></g></g><line id="SvgjsLine1163" x1="0" y1="0" x2="172" y2="0" stroke="#b6b6b6" stroke-dasharray="0" stroke-width="1" stroke-linecap="butt" class="apexcharts-ycrosshairs"></line><line id="SvgjsLine1164" x1="0" y1="0" x2="172" y2="0" stroke-dasharray="0" stroke-width="0" stroke-linecap="butt" class="apexcharts-ycrosshairs-hidden"></line></g><g id="SvgjsG1145" class="apexcharts-annotations"></g></svg><div class="apexcharts-tooltip apexcharts-theme-dark"><div class="apexcharts-tooltip-series-group" style="order: 1;"><span class="apexcharts-tooltip-marker" style="background-color: rgb(15, 199, 255);"></span><div class="apexcharts-tooltip-text" style="font-family: Helvetica, Arial, sans-serif; font-size: 12px;"><div class="apexcharts-tooltip-y-group"><span class="apexcharts-tooltip-text-y-label"></span><span class="apexcharts-tooltip-text-y-value"></span></div><div class="apexcharts-tooltip-goals-group"><span class="apexcharts-tooltip-text-goals-label"></span><span class="apexcharts-tooltip-text-goals-value"></span></div><div class="apexcharts-tooltip-z-group"><span class="apexcharts-tooltip-text-z-label"></span><span class="apexcharts-tooltip-text-z-value"></span></div></div></div><div class="apexcharts-tooltip-series-group" style="order: 2;"><span class="apexcharts-tooltip-marker" style="background-color: rgb(255, 190, 91);"></span><div class="apexcharts-tooltip-text" style="font-family: Helvetica, Arial, sans-serif; font-size: 12px;"><div class="apexcharts-tooltip-y-group"><span class="apexcharts-tooltip-text-y-label"></span><span class="apexcharts-tooltip-text-y-value"></span></div><div class="apexcharts-tooltip-goals-group"><span class="apexcharts-tooltip-text-goals-label"></span><span class="apexcharts-tooltip-text-goals-value"></span></div><div class="apexcharts-tooltip-z-group"><span class="apexcharts-tooltip-text-z-label"></span><span class="apexcharts-tooltip-text-z-value"></span></div></div></div><div class="apexcharts-tooltip-series-group" style="order: 3;"><span class="apexcharts-tooltip-marker" style="background-color: rgb(239, 88, 93);"></span><div class="apexcharts-tooltip-text" style="font-family: Helvetica, Arial, sans-serif; font-size: 12px;"><div class="apexcharts-tooltip-y-group"><span class="apexcharts-tooltip-text-y-label"></span><span class="apexcharts-tooltip-text-y-value"></span></div><div class="apexcharts-tooltip-goals-group"><span class="apexcharts-tooltip-text-goals-label"></span><span class="apexcharts-tooltip-text-goals-value"></span></div><div class="apexcharts-tooltip-z-group"><span class="apexcharts-tooltip-text-z-label"></span><span class="apexcharts-tooltip-text-z-value"></span></div></div></div><div class="apexcharts-tooltip-series-group" style="order: 4;"><span class="apexcharts-tooltip-marker" style="background-color: rgb(37, 189, 142);"></span><div class="apexcharts-tooltip-text" style="font-family: Helvetica, Arial, sans-serif; font-size: 12px;"><div class="apexcharts-tooltip-y-group"><span class="apexcharts-tooltip-text-y-label"></span><span class="apexcharts-tooltip-text-y-value"></span></div><div class="apexcharts-tooltip-goals-group"><span class="apexcharts-tooltip-text-goals-label"></span><span class="apexcharts-tooltip-text-goals-value"></span></div><div class="apexcharts-tooltip-z-group"><span class="apexcharts-tooltip-text-z-label"></span><span class="apexcharts-tooltip-text-z-value"></span></div></div></div></div></div></div></div><div class="bottom__content"><div class="table-responsive fixes-card-max-height table__cont" data-simplebar="init"><div class="simplebar-wrapper" style="margin: 0px;"><div class="simplebar-height-auto-observer-wrapper"><div class="simplebar-height-auto-observer"></div></div><div class="simplebar-mask"><div class="simplebar-offset" style="right: 0px; bottom: 0px;"><div class="simplebar-content-wrapper" style="height: auto; overflow: hidden;"><div class="simplebar-content" style="padding: 0px;"><table class="table align-middle table-nowrap  table__content"><tbody><tr href="#"><td><span class="text-nowrap mb-0 text-truncate progress_">Open</span></td><td align="center"><h5 class=" mb-0 number">5</h5></td><td align="center"><div class="to-do-progress-bar progress"><div role="progressbar" class="progress-bar" aria-valuenow="7.042253521126761" aria-valuemin="0" aria-valuemax="100" style="width: 7.042%;"></div></div></td></tr><tr href="#"><td><span class="text-nowrap mb-0 text-truncate progress_">Active</span></td><td align="center"><h5 class=" mb-0 number">66 </h5></td><td align="center"><div class="in-progress-bar progress"><div role="progressbar" class="progress-bar" aria-valuenow="92.95774647887323" aria-valuemin="0" aria-valuemax="100" style="width: 92.958%;"></div></div></td></tr><tr href="#"><td><span class="text-nowrap mb-0 text-truncate progress_">Done</span></td><td align="center"><h5 class=" mb-0 number">0</h5></td><td align="center"><div class="completed-progress-bar progress"><div role="progressbar" class="progress-bar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div></td></tr></tbody></table></div></div></div></div><div class="simplebar-placeholder" style="width: auto; height: 158px;"></div></div><div class="simplebar-track simplebar-horizontal" style="visibility: hidden;"><div class="simplebar-scrollbar" style="transform: translate3d(0px, 0px, 0px); display: none;"></div></div><div class="simplebar-track simplebar-vertical" style="visibility: hidden;"><div class="simplebar-scrollbar" style="transform: translate3d(0px, 0px, 0px); display: none;"></div></div></div></div></div></div></div>

      </div>
    </div>

    <div class="row mx-2">
      <div class="col-12 dash-screenshot text-light text-center py-5" style="background: #3f51b5">
        <h1><i class="bi bi-clock-history" style="font-size: 44px"></i></h1>
        <p>Unfortunately, there are no screenshots to show.</p>
      </div>
    </div>
  </div>
</div>
